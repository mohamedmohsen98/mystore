import{a as q}from"./chunk-G7EJXB5Z.js";import{f as V}from"./chunk-UNIDLIGE.js";import"./chunk-SUSBXEQZ.js";import{l as w,m as D}from"./chunk-T2V22PM5.js";import{$a as S,Ea as y,S as f,Wa as g,X as d,Xa as h,Y as p,Ya as E,Za as i,_a as n,ab as I,db as u,eb as m,hb as r,ib as b,jb as _,kb as T,ob as x,pb as C,ra as v,ta as c,ub as k}from"./chunk-QOUCQRC5.js";var L=(o,e)=>e.id;function P(o,e){if(o&1){let t=I();i(0,"tr")(1,"td")(2,"div",3),S(3,"img",4),i(4,"div",5)(5,"strong"),r(6),n()()()(),i(7,"td")(8,"div",6)(9,"button",7),u("click",function(){let l=d(t).$implicit,s=m();return p(s.increaseQuantity(l))}),r(10,"+"),n(),i(11,"span",8),r(12),n(),i(13,"button",7),u("click",function(){let l=d(t).$implicit,s=m();return p(s.decreaseQuantity(l.id))}),r(14,"\u2212"),n()()(),i(15,"td")(16,"button",9),u("click",function(){let l=d(t).$implicit,s=m();return p(s.removeItem(l.id))}),r(17,"\xD7"),n()(),i(18,"td")(19,"div",10)(20,"span",11),r(21),x(22,"number"),n(),S(23,"br"),i(24,"strong",12),r(25),x(26,"number"),n()()()()}if(o&2){let t=e.$implicit,a=m();c(3),E("alt",T(t.title))("src",t.thumbnail,v),c(3),b(t.title),c(6),b(t.quantity),c(9),_("\xA3",C(22,7,t.price*t.quantity,"1.2-2")),c(4),_("NOW: \xA3",C(26,10,a.getSubtotal(t),"1.2-2"))}}var F=class o{cartList=f(q);cartItems=k(()=>this.cartList.cart());increaseQuantity(e){this.cartList.addToCart(e)}decreaseQuantity(e){this.cartList.removeFromCart(e)}removeItem(e){let t=this.cartItems().filter(a=>a.id!==e);this.cartList.cart.set(t)}clearCart(){this.cartList.clearCart()}getDiscountedPrice(e){let t=e.discountPercentage||0;return e.price-e.price*t/100}getSubtotal(e){return this.getDiscountedPrice(e)*e.quantity}getCartTotal(){return this.cartItems().reduce((e,t)=>e+this.getSubtotal(t),0)}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=y({type:o,selectors:[["app-cart-section"]],decls:23,vars:4,consts:[[1,"cart"],[1,"cart-table"],[1,"cart-total"],[1,"cart-product"],[3,"src","alt"],[1,"product-info"],[1,"cart-quantity"],[1,"qty-btn",3,"click"],[1,"qty-display"],[1,"remove-btn",3,"click"],[1,"cart-price"],[1,"old-price"],[1,"new-price"]],template:function(t,a){t&1&&(i(0,"section",0)(1,"h2"),r(2,"Cart"),n(),i(3,"table",1)(4,"thead")(5,"tr")(6,"th"),r(7,"Description"),n(),i(8,"th"),r(9,"Quantity"),n(),i(10,"th"),r(11,"Remove"),n(),i(12,"th"),r(13,"Price"),n()()(),i(14,"tbody"),g(15,P,27,13,"tr",null,L),n()(),i(17,"div",2)(18,"p")(19,"strong"),r(20,"Total"),n(),r(21),x(22,"number"),n()()()),t&2&&(c(15),h(a.cartItems()),c(6),_(": \xA3",C(22,1,a.getCartTotal(),"1.2-2")))},dependencies:[V,D,w],encapsulation:2})};export{F as CartSection};
