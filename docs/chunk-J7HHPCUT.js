import{a as V}from"./chunk-ZHPXUAI7.js";import{a as M}from"./chunk-G7EJXB5Z.js";import{a as W}from"./chunk-X6A7OMTI.js";import"./chunk-SUSBXEQZ.js";import{i as N,k as T,m as D}from"./chunk-T2V22PM5.js";import{$a as l,Ea as p,Ja as h,S,Wa as k,X as _,Xa as P,Y as C,Ya as s,Za as r,_a as o,ab as w,db as g,eb as d,hb as a,ib as x,jb as u,kb as F,nb as b,ra as y,ta as n,wb as E,ya as I}from"./chunk-QOUCQRC5.js";var z=(i,e,t)=>({"in-stock":i,"low-stock":e,"out-of-stock":t}),A=(i,e,t)=>({"add-btn":i,"remove-btn":e,disabled:t});function H(i,e){if(i&1){let t=w();r(0,"div",1)(1,"div",2),a(2),o(),l(3,"img",3),r(4,"h3"),a(5),o(),r(6,"p",4),a(7),o(),r(8,"p",5)(9,"strong"),a(10),o()(),r(11,"button",6),g("click",function(){let f=_(t).ngIf,v=d();return C(v.toggleCart(f))}),a(12),o(),r(13,"button",7),g("click",function(f){let v=_(t).ngIf,$=d();return C($.wishtlistt.addToWishlist(f,v))}),a(14,"\u2764\uFE0F"),o()()}if(i&2){let t=e.ngIf,c=d();n(),s("ngClass",b(11,z,t.availabilityStatus==="In Stock",t.availabilityStatus==="Low in Stock",t.availabilityStatus==="Not in Stock")),n(),u(" ",t.availabilityStatus," "),n(),s("alt",F(t.title))("src",t.thumbnail,y),n(2),x(t.title),n(2),x(t.description),n(3),u("$",t.price.toFixed(2)),n(),s("disabled",t.availabilityStatus==="Not in Stock")("ngClass",b(15,A,!c.cartService.isInCart(t.id),c.cartService.isInCart(t.id),t.availabilityStatus==="Not in Stock")),n(),u(" ",c.cartService.isInCart(t.id)?"Remove from Cart":"Add to Cart"," ")}}var m=class i{_product=E();cartService=S(M);wishtlistt=S(W);toggleCart(e){if(e.availabilityStatus==="Not in Stock")return;this.cartService.isInCart(e.id)?this.cartService.removeFromCart(e.id):this.cartService.addToCart(e)}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=p({type:i,selectors:[["app-product-section"]],inputs:{_product:[1,"_product"]},decls:1,vars:1,consts:[["class","product-card",4,"ngIf"],[1,"product-card"],[1,"stock-label",3,"ngClass"],[3,"src","alt"],[1,"description"],[1,"price"],[3,"click","disabled","ngClass"],[3,"click"]],template:function(t,c){t&1&&h(0,H,15,19,"div",0),t&2&&s("ngIf",c._product())},dependencies:[D,N,T],encapsulation:2})};var L=(i,e)=>e.id;function U(i,e){if(i&1&&l(0,"app-product-section",1),i&2){let t=e.$implicit;s("_product",t)}}var O=class i{constructor(e){this.fetchProducts=e}products=[];ngOnInit(){this.fetchProducts.getProducts().subscribe({next:e=>{this.products=e.products},error:e=>console.log("error",e)})}static \u0275fac=function(t){return new(t||i)(I(V))};static \u0275cmp=p({type:i,selectors:[["app-wrapper-section"]],decls:5,vars:0,consts:[[1,"product-list"],[3,"_product"]],template:function(t,c){t&1&&(r(0,"h1"),a(1,"MY STORE"),o(),r(2,"section",0),k(3,U,1,1,"app-product-section",1,L),o()),t&2&&(n(3),P(c.products))},dependencies:[m],encapsulation:2})};export{O as WrapperSection};
