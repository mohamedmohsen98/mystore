import{a as O}from"./chunk-ZHPXUAI7.js";import{a as F}from"./chunk-G7EJXB5Z.js";import{b as q}from"./chunk-UNIDLIGE.js";import"./chunk-SUSBXEQZ.js";import{i as D,j as T,k as E,l as N,m as V}from"./chunk-T2V22PM5.js";import{$a as k,Ea as h,Ja as m,S as g,X as p,Y as u,Ya as a,Za as n,_a as o,a as S,ab as b,b as I,db as _,eb as s,gb as P,hb as r,ib as f,jb as x,nb as w,ob as y,pb as C,ra as v,ta as c}from"./chunk-QOUCQRC5.js";var $=(e,i,t)=>({"in-stock":e,"low-stock":i,"out-of-stock":t});function B(e,i){if(e&1){let t=b();n(0,"img",19),_("click",function(){let d=p(t).$implicit,M=s(3);return u(M.selectImage(d))}),o()}if(e&2){let t=i.$implicit,l=s(3);P("selected",t===l.selectedImage),a("src",t,v)}}function z(e,i){if(e&1&&(n(0,"div",17),m(1,B,1,3,"img",18),o()),e&2){let t=s(2);c(),a("ngForOf",t.product.images)}}function A(e,i){if(e&1&&(n(0,"span",20),r(1),y(2,"number"),o()),e&2){let t=s(2);c(),x(" $",C(2,1,t.product.price*(1+t.product.discountPercentage/100),"1.2-2")," ")}}function L(e,i){if(e&1){let t=b();n(0,"section",1)(1,"div",2)(2,"div",3),k(3,"img",4),m(4,z,2,1,"div",5),o(),n(5,"div",6)(6,"h1",7),r(7),o(),n(8,"p",8),r(9),o(),n(10,"div",9),m(11,A,3,4,"span",10),n(12,"strong",11),r(13),y(14,"number"),o()(),n(15,"div",12),r(16),o(),n(17,"div",13)(18,"label"),r(19,"Quantity:"),o(),n(20,"div",14)(21,"button",15),_("click",function(){p(t);let d=s();return u(d.decreaseQuantity())}),r(22,"\u2212"),o(),n(23,"span"),r(24),o(),n(25,"button",15),_("click",function(){p(t);let d=s();return u(d.increaseQuantity())}),r(26,"+"),o()()(),n(27,"button",16),_("click",function(){p(t);let d=s();return u(d.addToCart())}),r(28," Add to Cart "),o()()()()}if(e&2){let t=s();c(3),a("src",t.selectedImage||t.product.thumbnail,v),c(),a("ngIf",t.product.images==null?null:t.product.images.length),c(3),f(t.product.title),c(2),f(t.product.description),c(2),a("ngIf",t.product.discountPercentage),c(2),x(" $",C(14,10,t.product.price,"1.2-2")," "),c(2),a("ngClass",w(13,$,t.product.availabilityStatus==="In Stock",t.product.availabilityStatus==="Low in Stock",t.product.availabilityStatus==="Not in Stock")),c(),x(" ",t.product.availabilityStatus," "),c(8),f(t.quantity),c(3),a("disabled",t.product.availabilityStatus==="Not in Stock")}}var Q=class e{route=g(q);productService=g(O);cartService=g(F);product;selectedImage="";quantity=1;ngOnInit(){let i=Number(this.route.snapshot.paramMap.get("id"));i&&this.productService.getProductById(i).subscribe(t=>{this.product=t,this.selectedImage=t.thumbnail||t.images?.[0]||""})}selectImage(i){this.selectedImage=i}increaseQuantity(){this.quantity++}decreaseQuantity(){this.quantity>1&&this.quantity--}addToCart(){if(this.product.availabilityStatus==="Not in Stock")return;let i=I(S({},this.product),{quantity:this.quantity});this.cartService.addToCart(i)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=h({type:e,selectors:[["app-product-details"]],decls:1,vars:1,consts:[["class","product-detail",4,"ngIf"],[1,"product-detail"],[1,"product-detail__container"],[1,"product-detail__images"],["alt","Main Image",1,"main-image",3,"src"],["class","thumbnail-row",4,"ngIf"],[1,"product-detail__info"],[1,"product-title"],[1,"product-description"],[1,"price-block"],["class","old-price",4,"ngIf"],[1,"new-price"],[1,"stock-status",3,"ngClass"],[1,"quantity-selector"],[1,"quantity-controls"],[3,"click"],[1,"add-to-cart-btn",3,"click","disabled"],[1,"thumbnail-row"],["alt","Thumbnail",3,"src","selected","click",4,"ngFor","ngForOf"],["alt","Thumbnail",3,"click","src"],[1,"old-price"]],template:function(t,l){t&1&&m(0,L,29,17,"section",0),t&2&&a("ngIf",l.product)},dependencies:[V,D,T,E,N],encapsulation:2})};export{Q as ProductDetailsComponent};
