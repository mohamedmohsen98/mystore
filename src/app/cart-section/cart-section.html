<section class="cart">
  <h2>Cart</h2>

  <table class="cart-table">
    <thead>
      <tr>
        <th>Description</th>
        <th>Quantity</th>
        <th>Remove</th>
        <th>Price</th>
      </tr>
    </thead>
    <tbody>
      @for (item of cartItems(); track item.id) {
        <tr>
          <td>
            <div class="cart-product">
              <img [src]="item.thumbnail" alt="{{ item.title }}" />
              <div class="product-info">
                <strong>{{ item.title }}</strong>
              </div>
            </div>
          </td>

          <td>
            <div class="cart-quantity">
              <button class="qty-btn" (click)="increaseQuantity(item)">+</button>
              <span class="qty-display">{{ item.quantity }}</span>
              <button class="qty-btn" (click)="decreaseQuantity(item.id)">−</button>
            </div>
          </td>

          <td>
            <button class="remove-btn" (click)="removeItem(item.id)">×</button>
          </td>

          <td>
            <div class="cart-price">
              <span class="old-price">£{{ (item.price * item.quantity) | number: '1.2-2' }}</span><br />
              <strong class="new-price">NOW: £{{ getSubtotal(item) | number: '1.2-2' }}</strong>
            </div>
          </td>
        </tr>
      }
    </tbody>
  </table>

  <div class="cart-total">
    <p><strong>Total</strong>: £{{ getCartTotal() | number: '1.2-2' }}</p>
  </div>
</section>
